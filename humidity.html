<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<title>ìŠµë„ ë³€í™˜ ê³„ì‚°ê¸°</title>
<style>
  body { font-family: system-ui, -apple-system, "Segoe UI", Roboto, sans-serif; text-align: center; margin-top: 60px; }
  .row { margin: 8px 0; }
  input { width: 90px; padding: 6px; margin-left: 6px; text-align: right; }
  .unit { margin-left: 4px; }
  .result { margin-top: 16px; font-weight: 700; font-size: 1.15rem; color: #333; }
  .hint { font-size: .9rem; color: #666; margin-top: 8px; }
</style>
</head>
<body>
  <h2>ğŸŒ¤ ìŠµë„ ë³€í™˜ ê³„ì‚°ê¸°</h2>

  <div class="row">
    <label>ì‹¤ì™¸ ì˜¨ë„
      <input type="number" id="t1" value="10" step="0.1" />
      <span class="unit">Â°C</span>
    </label>
  </div>

  <div class="row">
    <label>ì‹¤ì™¸ ìŠµë„
      <input type="number" id="rh" value="75" step="0.1" min="0" max="100" />
      <span class="unit">%</span>
    </label>
  </div>

  <div class="row">
    <label>ì‹¤ë‚´ ì˜¨ë„
      <input type="number" id="t2" value="23" step="0.1" />
      <span class="unit">Â°C</span>
    </label>
  </div>

  <!-- ë²„íŠ¼ì€ ì—†ì•´ì–´! ìë™ì´ë‹ˆê¹Œ í•„ìš”ì—†ì§€ë¡± âœ¨ -->

  <div id="res" class="result"></div>
  <!-- <div class="hint">* ê°„ë‹¨ ê·¼ì‚¬ì‹: RHâ‚‚ â‰ˆ RH Ã— exp( 17.27 Ã— (Tâ‚ âˆ’ Tâ‚‚) / (237.7 + Tâ‚‚) )</div> -->

<script>
(function () {
  const t1 = document.getElementById('t1');
  const rh = document.getElementById('rh');
  const t2 = document.getElementById('t2');
  const res = document.getElementById('res');

  function clampRh(x) {
    // 0~100% ë²”ìœ„ë¡œ ì‚´ì§ ë‹¤ë“¬ì–´ ì¤˜ìš”!
    if (Number.isNaN(x)) return 0;
    if (x < 0) return 0;
    if (x > 100) return 100;
    return x;
  }

  function calc() {
    const T1 = parseFloat(t1.value);
    const RH = clampRh(parseFloat(rh.value));
    const T2 = parseFloat(t2.value);

    // ì…ë ¥ë€ê³¼ ë™ê¸°í™”(ì‚¬ìš©ìê°€ 120% ê°™ì€ ê°’ ë„£ì—ˆì„ ë•Œ ì˜ˆì˜ê²Œ ì •ë¦¬)
    if (rh.value !== RH.toString()) rh.value = RH;

    // ê·¼ì‚¬ì‹ ì ìš©
    const exponent = 17.27 * (T1 - T2) / (237.7 + T2);
    const RH2 = RH * Math.exp(exponent);

    const out = (Number.isFinite(RH2)) ? RH2 : 0;
    res.textContent = `ğŸ’§ ${T1.toFixed(1)}Â°C Â· ${RH.toFixed(1)}% ê³µê¸°ëŠ”
${T2.toFixed(1)}Â°Cì—ì„œ ì•½ ${out.toFixed(1)}% ìŠµë„ì™€ ê°™ì•„ìš”!`;
  }

  // ìˆ«ì ë³€ê²½ë  ë•Œë§ˆë‹¤ ìë™ ê³„ì‚°
  t1.addEventListener('input', calc);
  rh.addEventListener('input', calc);
  t2.addEventListener('input', calc);

  // ì²« ë¡œë“œì‹œì—ë„ ìë™ ê³„ì‚°
  document.addEventListener('DOMContentLoaded', calc);

  // í˜¹ì‹œ ìŠ¤í¬ë¦½íŠ¸ê°€ DOM ë’¤ì— ì˜¤ì§€ ì•Šì•˜ë‹¤ë©´ ì¦‰ì‹œ í•œ ë²ˆ í˜¸ì¶œ!
  calc();
})();
</script>
</body>
</html>
